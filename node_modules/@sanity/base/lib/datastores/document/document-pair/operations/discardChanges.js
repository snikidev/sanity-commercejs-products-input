"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.discardChanges = void 0;

var _client = _interopRequireDefault(require("part:@sanity/base/client"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var discardChanges = {
  disabled: (_ref) => {
    var snapshots = _ref.snapshots;

    if (!snapshots.draft) {
      return 'NO_CHANGES';
    }

    if (!snapshots.published) {
      return 'NOT_PUBLISHED';
    }

    return false;
  },
  execute: (_ref2) => {
    var idPair = _ref2.idPair;
    return _client.default.observable.transaction().delete(idPair.draftId).commit();
  }
};
exports.discardChanges = discardChanges;